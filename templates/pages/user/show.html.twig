{% extends '_base.html.twig' %}

{% block javascripts %}
    <script src="{{ asset('dist/js/userEdit.js') }}"></script>
{% endblock %}

{% block content %}
    <nav>
        <ul class="nav nav-tabs" id="user-nav" role="tablist">
            <li class="nav-item">
                <a class="nav-link{% if not (formErrors.count > 1) %} active{% endif %}" href="#profile" id="user-nav-tab-profile" data-toggle="tab" aria-controls="profile" role="tab" aria-selected="{% if not (formErrors.count > 1) %}true{% else %}false{% endif %}">
                    Profile
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link{% if (formErrors.count > 1) %} active{% endif %}" href="#edit" id="user-nav-tab-edit" data-toggle="tab" aria-controls="edit" role="tab" aria-selected="{% if (formErrors.count > 1) %}true{% else %}false{% endif %}">
                    Edit
                </a>
            </li>
        </ul>
    </nav>
    <div class="tab-content" id="user-nav-content">
        <div class="tab-pane fade{% if not (formErrors.count > 1) %} show active{% endif %}" id="profile" role="tabpanel" aria-labelledby="user-nav-tab-profile">
            <dl>
                <dt>User since</dt>
                <dd>{{ user.created|date('F d, Y') }}</dd>
                <dt>E-Mail</dt>
                <dd>{{ user.email }}</dd>
                {% if user.roles|length > 1 %}
                    <dt>Roles</dt>
                    <dd>{{ user.roles|join(', ') }}</dd>
                {% endif %}
                <dt>Blades</dt>
                <dd>{{ blades|length }}</dd>
            </dl>
        </div>

        <div class="tab-pane{% if (formErrors.count > 1) %} show active{% endif %}" id="edit" role="tabpanel" aria-labelledby="user-nav-tab-edit">
            {{ form_errors(form) }}
            {{ form_start(form) }}
            {{ form_row(form.email) }}
            {{ form_row(form.oldPassword) }}
            {{ form_row(form.changePassword) }}
            {{ form_row(form.plainPassword) }}
            {{ form_row(form.submit) }}
            {{ form_end(form) }}
        </div>
    </div>
{% endblock %}
